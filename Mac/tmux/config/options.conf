# ~/.config/tmux/config/options.conf
# Tmux 基础选项配置

###############################################################################
# 基础设置
###############################################################################

# 设置真彩色支持
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# 启用鼠标支持
set -g mouse on

# 设置历史缓冲区大小
set -g history-limit 10000

# 窗口和面板索引从1开始
set -g base-index 1
set -g pane-base-index 1

# 重新编号窗口
set -g renumber-windows on

# 允许自动重命名窗口
set -g automatic-rename on

# 设置窗口标题
set -g set-titles on
set -g set-titles-string '#h ❐ #S ● #I #W'

###############################################################################
# 时间设置
###############################################################################

# 减少延迟时间
set -s escape-time 0

# 增加重复按键时间
set -g repeat-time 600

# 状态栏刷新间隔
set -g status-interval 5

# 显示面板编号的时间
set -g display-panes-time 800

# 显示消息的时间
set -g display-time 1000

###############################################################################
# 活动监控
###############################################################################

# 监控窗口活动
set -g monitor-activity on
set -g visual-activity off

# 监控窗口静默
set -g monitor-silence 0
set -g visual-silence off

# 监控窗口铃声
set -g monitor-bell on
set -g visual-bell off

###############################################################################
# 窗口和面板设置
###############################################################################

# 关闭窗口后自动重新编号
set -g renumber-windows on

# 设置默认shell
set -g default-shell $SHELL

###############################################################################
# 状态栏基础设置
###############################################################################

# 启用状态栏
set -g status on

# 状态栏位置
set -g status-position bottom

# 状态栏对齐
set -g status-justify left

###############################################################################
# 复制模式设置
###############################################################################

# 使用vi模式
set -g mode-keys vi

# 复制模式中的选择和复制
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-pipe-and-cancel "pbcopy"
bind -T copy-mode-vi C-v send -X rectangle-toggle

###############################################################################
# 插件相关设置
###############################################################################

# tmux-resurrect 设置
set -g @resurrect-strategy-vim 'session'
set -g @resurrect-strategy-nvim 'session'
set -g @resurrect-capture-pane-contents 'on'
set -g @resurrect-save-shell-history 'on'

# tmux-continuum 设置
set -g @continuum-restore 'on'
set -g @continuum-save-interval '15'

# 在线状态设置
set -g @online_icon "󰖟"
set -g @offline_icon "󰖪"

# 模式指示器设置
set -g @mode_indicator_prefix_prompt " WAIT "
set -g @mode_indicator_copy_prompt " COPY "
set -g @mode_indicator_sync_prompt " SYNC "
set -g @mode_indicator_empty_prompt " TMUX "

# 模式指示器样式
set -g @mode_indicator_prefix_mode_style 'bg=#89b4fa,fg=#1e1e2e,bold'
set -g @mode_indicator_copy_mode_style 'bg=#f9e2af,fg=#1e1e2e,bold'
set -g @mode_indicator_sync_mode_style 'bg=#f38ba8,fg=#1e1e2e,bold'
set -g @mode_indicator_empty_mode_style 'bg=#a6e3a1,fg=#1e1e2e,bold'


###############################################################################
# 滚动条设置
###############################################################################
# 只在 copy-mode 时显示滚动条
set -g pane-scrollbars modal

# 滚动条放右侧
set -g pane-scrollbars-position right

# 样式, 绿色滑块, 深色背景, 宽度 1, 间距 1
set -g pane-scrollbars-style 'fg=green,bg=black,width=1,pad=1'